# Dark Language Support

[![Visual Studio Marketplace Version](https://vsp210.gallerycdn.vsassets.io/extensions/vsp210/dark-lang/0.1.3/1754914792639/Microsoft.VisualStudio.Services.Icons.Default)](https://marketplace.visualstudio.com/items?itemName=vsp210.dark-lang)

Полная поддержка языка программирования **Dark** для [Visual Studio Code](https://code.visualstudio.com/).

**[Установить из VS Code Marketplace](https://marketplace.visualstudio.com/items?itemName=vsp210.dark-lang)** | **[Документация языка Dark](https://vsp210.ru/dark-lang/)**

Это расширение превращает ваш редактор в мощную среду для разработки на языке Dark, предоставляя подсветку синтаксиса, запуск кода, интеллектуальное автодополнение, проверку ошибок и многое другое.

## Features

*   **Подсветка синтаксиса:** Красивая и читаемая раскраска кода для файлов `.dark`.
*   **Запуск кода:** Запускайте ваши скрипты прямо из редактора одним кликом по иконке ▶ в заголовке окна.
*   **Умное автодополнение (IntelliSense):** Получайте контекстные подсказки для:
    *   Ключевых слов (`if`, `while`, `function` и т.д.).
    *   Встроенных и пользовательских функций.
    *   Переменных, с полным учетом их **области видимости** (глобальные, локальные, параметры функции).
    *   **Модулей стандартной библиотеки** (`os`, `math` и др.) после их импорта.
    *   **Встроенных методов** для строк, списков и словарей (`.len()`, `.append()`, `.keys()`).
*   **Контекстный импорт:** Автоматические подсказки для всех доступных модулей при написании `import "..."`.
*   **Семантическая подсветка:** Имена импортированных модулей выделяются цветом, что улучшает читаемость кода.
*   **Проверка синтаксиса (Линтер):** Мгновенное обнаружение и подсветка синтаксических ошибок прямо в редакторе.
*   **Информация при наведении:** Наведите курсор на функцию или переменную, чтобы увидеть ее документацию и параметры.
*   **Поддержка Docstrings:** Пишите документацию к вашим функциям в виде комментариев (`#`) или строковых литералов, и она будет автоматически отображаться в подсказках.

## Requirements

Для работы расширения требуется установленный интерпретатор языка Dark. Расширение будет вызывать его для запуска и проверки кода.

## Extension Settings

Это расширение добавляет одну критически важную настройку в VS Code.

**Вы должны указать путь к исполняемому файлу вашего языка!**

*   `dark.executorPath`: Абсолютный путь к исполняемому файлу интерпретатора Dark (`dark_start.exe`).

**Пример настройки в `settings.json`:**

Для Windows:
```json
{
    "dark.executorPath": "C:\\Program Files (x86)\\Dark-Lang-0-1-1\\dark_start.exe"
}
```

<!-- ## Known Issues -->

<!-- На данный момент известных проблем нет. Если вы столкнетесь с ошибкой, пожалуйста, создайте issue в репозитории проекта. -->

## Release Notes

### 0.2.6
*   **Исправление подсветки синтаксиса:** Устранена критическая ошибка, из-за которой семантический анализатор некорректно подсвечивал переменные внутри комментариев и строковых литералов (включая многострочные). Теперь подсветка работает точно и предсказуемо.

*   **Обновление в соответствии с Dark Language v0.3.1:**
    *   Добавлена поддержка нового модуля `color` для вывода цветного текста.
    *   Добавлена поддержка модуля `python` и директивы `#!USE_WITH_PYTHON` для интеграции с Python.
    *   Добавлена функция `http.post`.
*   **Улучшения:** Обновлены подсказки и автодополнение для всех новых функций.

### 0.2.5
*   **Обновление в соответствии с новыми требованиями Dark Language v0.3.0:**
    *   Обновлены правила анализа для поддержки новых возможностей языка.

*   **Исправления ошибок:** Устранены проблемы с автодополнением для глобальных переменных, которые могли возникать после их инициализации.

### 0.2.4
*   **Улучшения в анализе кода:**
    *   Оптимизирован алгоритм анализа, что привело к более быстрой обработке больших файлов.

*   **Обновление в соответствии с новыми требованиями Dark Language:**
    *   Обновлены правила анализа для поддержки новых возможностей языка.

### 0.2.3
*   **Улучшения в автодополнении:**
    *   Значительно улучшена точность и релевантность предложений автодополнения для переменных и функций, особенно в сложных сценариях с вложенными областями видимости.
    *   Исправлены случаи, когда автодополнение могло не срабатывать для глобальных переменных после их инициализации.
*   **Оптимизация производительности:** Уменьшено потребление памяти и ускорена работа анализатора кода, что делает расширение более отзывчивым, особенно на больших файлах.
*   **Исправления ошибок:** Устранены различные мелкие ошибки, связанные с парсингом комментариев и строковых литералов, которые могли приводить к некорректной подсветке или анализу.

### 0.2.1

*   **Major Feature: Полная поддержка модулей!**
    *   Добавлено автодополнение и всплывающие подсказки для всей стандартной библиотеки (`os`, `math`, `http`, `stdlib`, `time`, `vsp210`).
    *   Реализованы контекстные подсказки для модулей внутри `import "..."`.
    *   Добавлена поддержка **Python-расширений** (подробности в основной документации языка).
*   **Major Feature: Встроенные методы!**
    *   Реализовано автодополнение для методов встроенных типов (`string`, `list`, `dict`), например: `my_list.append()` или `"hello".upper()`.
*   **Улучшенная подсветка:** Добавлена семантическая подсветка для импортированных модулей, чтобы их было легче отличать от переменных.
*   **Исправления и улучшения:** Множество улучшений в работе анализатора кода, повышение стабильности и исправление мелких ошибок.

### 0.1.3

* Исправлены мелкие ошибки в подсветке синтаксиса.

### 0.1.2

Первоначальный выпуск "Dark Language Support".

Включены основные функции:
* Подсветка синтаксиса
* Запуск файлов `.dark`
* Автодополнение для ключевых слов, функций и переменных
* Проверка синтаксиса
* Подсказки при наведении

**Enjoy!**
